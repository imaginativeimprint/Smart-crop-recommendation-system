<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Market Advisory System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2e7d32;
            --secondary: #4caf50;
            --accent: #ff9800;
            --light: #f5f9f4;
            --dark: #1b5e20;
        }
        
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
        }
        
        .navbar {
            background: linear-gradient(to right, var(--dark), var(--primary));
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1625246333197-1fa0e8c10528?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 3rem 0;
            margin-bottom: 1.5rem;
        }
        
        .card {
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            border: none;
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-3px);
        }
        
        .card-header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border-radius: 8px 8px 0 0 !important;
            font-weight: 600;
            padding: 12px 15px;
            font-size: 0.95rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
            padding: 8px 16px;
            font-size: 0.9rem;
        }
        
        .btn-primary:hover {
            background-color: var(--dark);
            border-color: var(--dark);
        }
        
        .feature-icon {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.8rem;
        }
        
        .price-trend {
            height: 250px;
        }
        
        .crop-card {
            border-left: 3px solid var(--primary);
            transition: all 0.3s;
            padding: 12px;
            margin-bottom: 12px;
        }
        
        .crop-card.high-demand {
            border-left: 3px solid #f44336;
        }
        
        .market-table th {
            background-color: var(--light);
            padding: 8px;
            font-size: 0.85rem;
        }
        
        .market-table td {
            padding: 8px;
            font-size: 0.85rem;
        }
        
        .recommendation-card {
            border: 1px solid var(--secondary);
        }
        
        .footer {
            background: linear-gradient(to right, var(--dark), var(--primary));
            color: white;
            padding: 1.5rem 0;
            margin-top: 2rem;
            font-size: 0.9rem;
        }
        
        .form-label {
            font-size: 0.9rem;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-select, .form-control {
            padding: 8px 12px;
            font-size: 0.9rem;
        }
        
        .alert {
            padding: 10px 15px;
            margin-bottom: 15px;
            font-size: 0.85rem;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.65rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .compact-list .list-group-item {
            padding: 10px 15px;
            font-size: 0.9rem;
        }
        
        .card-body {
            padding: 15px;
        }
        
        h1 {
            font-size: 1.8rem;
        }
        
        h5 {
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-leaf me-2"></i>Krishi Mandi Advisory
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html"><i class="fas fa-home me-1"></i> Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#"><i class="fas fa-chart-line me-1"></i> Market Prices</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-calendar-alt me-1"></i> Crop Calendar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-tint me-1"></i> Irrigation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-user me-1"></i> Farmer Portal</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container text-center">
            <h1 class="fw-bold">Smart Market Advisory System</h1>
            <p class="lead">Get real-time market prices, demand forecasts, and selling recommendations for your produce</p>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <!-- Left Sidebar -->
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-map-marker-alt me-2"></i>Select Your Location
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label">State</label>
                            <select class="form-select" id="stateSelect">
                                <option value="">Select State</option>
                                <option value="up">Uttar Pradesh</option>
                                <option value="maharastra">Maharashtra</option>
                                <option value="punjab">Punjab</option>
                                <option value="gujarat">Gujarat</option>
                                <option value="karnataka">Karnataka</option>
                                <option value="westbengal">West Bengal</option>
                                <option value="tamilnadu">Tamil Nadu</option>
                                <option value="rajasthan">Rajasthan</option>
                                <option value="andhra">Andhra Pradesh</option>
                                <option value="bihar">Bihar</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">District</label>
                            <select class="form-select" id="districtSelect" disabled>
                                <option value="">Select District</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Market</label>
                            <select class="form-select" id="marketSelect" disabled>
                                <option value="">Select Market</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-shopping-basket me-2"></i>Select Your Produce
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label">Crop Type</label>
                            <select class="form-select" id="cropTypeSelect">
                                <option value="">Select Crop Type</option>
                                <option value="cereals">Cereals</option>
                                <option value="pulses">Pulses</option>
                                <option value="vegetables">Vegetables</option>
                                <option value="fruits">Fruits</option>
                                <option value="spices">Spices</option>
                                <option value="commercial">Commercial Crops</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Crop Name</label>
                            <select class="form-select" id="cropSelect" disabled>
                                <option value="">Select Crop</option>
                            </select>
                        </div>
                        <button class="btn btn-primary w-100" id="checkPriceBtn">
                            <i class="fas fa-search me-2"></i>Check Market Price
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-bullhorn me-2"></i>Market Alerts
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Tomato prices</strong> expected to rise 25% in next month
                        </div>
                        <div class="alert alert-success">
                            <i class="fas fa-arrow-up me-2"></i>
                            <strong>Wheat demand</strong> increasing in Punjab markets
                        </div>
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            New government procurement centers opened for pulses
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-chart-line me-2"></i>Market Price Trends
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            Select your location and crop to view detailed market information
                        </div>
                        <canvas id="priceChart" class="price-trend"></canvas>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <i class="fas fa-calendar me-2"></i>Upcoming Festivals
                            </div>
                            <div class="card-body p-0">
                                <ul class="list-group list-group-flush compact-list">
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        Diwali
                                        <span class="badge bg-danger">Oct 24</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        Christmas
                                        <span class="badge bg-danger">Dec 25</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        Pongal
                                        <span class="badge bg-danger">Jan 15</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        Holi
                                        <span class="badge bg-danger">Mar 10</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <i class="fas fa-tags me-2"></i>Current Market Prices
                            </div>
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table class="table table-sm market-table mb-0">
                                        <thead>
                                            <tr>
                                                <th>Crop</th>
                                                <th>Min Price (₹/q)</th>
                                                <th>Max Price (₹/q)</th>
                                                <th>Trend</th>
                                            </tr>
                                        </thead>
                                        <tbody id="priceTable">
                                            <tr>
                                                <td colspan="4" class="text-center py-3">Select a crop to view prices</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mt-3 recommendation-card">
                    <div class="card-header bg-success text-white">
                        <i class="fas fa-lightbulb me-2"></i>Demand-based Crop Recommendations
                    </div>
                    <div class="card-body">
                        <p class="fw-bold">High demand crops for next 6 months based on festivals:</p>
                        <div class="row row-cols-1 row-cols-md-2 g-3" id="cropRecommendations">
                            <div class="col">
                                <div class="card crop-card high-demand h-100">
                                    <div class="card-body p-3">
                                        <h5 class="card-title">Turmeric</h5>
                                        <p class="card-text mb-2">High demand expected due to festival season</p>
                                        <span class="badge bg-danger">Diwali Demand</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card crop-card h-100">
                                    <div class="card-body p-3">
                                        <h5 class="card-title">Rice</h5>
                                        <p class="card-text mb-2">Stable demand throughout the year</p>
                                        <span class="badge bg-primary">Stable</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card crop-card high-demand h-100">
                                    <div class="card-body p-3">
                                        <h5 class="card-title">Sugarcane</h5>
                                        <p class="card-text mb-2">High demand expected in winter season</p>
                                        <span class="badge bg-danger">Winter Demand</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card crop-card h-100">
                                    <div class="card-body p-3">
                                        <h5 class="card-title">Potato</h5>
                                        <p class="card-text mb-2">Moderate demand with seasonal variations</p>
                                        <span class="badge bg-warning text-dark">Seasonal</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>Krishi Mandi Advisory</h5>
                    <p>Helping farmers get the best value for their produce through market intelligence and demand forecasting.</p>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">Crop Prices</a></li>
                        <li><a href="#" class="text-white">Market Trends</a></li>
                        <li><a href="#" class="text-white">Weather Forecast</a></li>
                        <li><a href="#" class="text-white">Government Schemes</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact Us</h5>
                    <p><i class="fas fa-phone me-2"></i> 1800-123-4567</p>
                    <p><i class="fas fa-envelope me-2"></i> support@krishimandi.com</p>
                </div>
            </div>
            <hr class="mt-4 bg-light">
            <p class="text-center mb-0">© 2023 Krishi Mandi Advisory. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Initialize data
        const stateDistricts = {
            'up': ['Agra', 'Aligarh', 'Allahabad', 'Kanpur', 'Lucknow', 'Meerut', 'Varanasi'],
            'maharastra': ['Mumbai', 'Pune', 'Nagpur', 'Nashik', 'Aurangabad', 'Solapur'],
            'punjab': ['Amritsar', 'Ludhiana', 'Jalandhar', 'Patiala', 'Bathinda', 'Mohali'],
            'gujarat': ['Ahmedabad', 'Surat', 'Vadodara', 'Rajkot', 'Bhavnagar', 'Jamnagar'],
            'karnataka': ['Bangalore', 'Mysore', 'Hubli', 'Belgaum', 'Mangalore', 'Gulbarga'],
            'westbengal': ['Kolkata', 'Howrah', 'Asansol', 'Siliguri', 'Durgapur', 'Bardhaman'],
            'tamilnadu': ['Chennai', 'Coimbatore', 'Madurai', 'Tiruchirappalli', 'Salem', 'Tirunelveli'],
            'rajasthan': ['Jaipur', 'Jodhpur', 'Kota', 'Bikaner', 'Ajmer', 'Udaipur'],
            'andhra': ['Visakhapatnam', 'Vijayawada', 'Guntur', 'Nellore', 'Kurnool', 'Tirupati'],
            'bihar': ['Patna', 'Gaya', 'Bhagalpur', 'Muzaffarpur', 'Purnia', 'Darbhanga']
        };

        const marketData = {
            'Agra': ['Agra Mandi', 'Shahganj Mandi', 'Khandari Mandi'],
            'Lucknow': ['Lucknow Mandi', 'Naka Mandi', 'Alambagh Mandi'],
            'Mumbai': ['Vashi APMC', 'Byculla Market', 'Dadar Market'],
            'Pune': ['Pune APMC', 'Market Yard', 'Shivajinagar Market'],
            'Amritsar': ['Amritsar Mandi', 'Raja Sansi Mandi', 'Verka Mandi'],
            'Ludhiana': ['Ludhiana Mandi', 'Jalandhar Bypass Mandi', 'Millerganj Market'],
            'Ahmedabad': ['Ahmedabad APMC', 'Manek Chowk', 'Jamalpur Market'],
            'Surat': ['Surat APMC', 'Varachha Market', 'Adajan Market'],
            'Bangalore': ['Bangalore APMC', 'KR Market', 'Shivajinagar Market'],
            'Mysore': ['Mysore Mandi', 'Devaraja Market', 'Bandipalya Market'],
            'Kolkata': ['Burdwan Mandi', 'Howrah Market', 'Sealdah Market'],
            'Siliguri': ['Siliguri Mandi', 'Hong Kong Market', 'Bidhan Market'],
            'Chennai': ['Koyambedu Market', 'Madhavaram Market', 'Thirumazhisai Market'],
            'Coimbatore': ['Coimbatore APMC', 'Gandhipuram Market', 'Singanallur Market'],
            'Jaipur': ['Jaipur Mandi', 'Sodala Mandi', 'Bassi Mandi'],
            'Jodhpur': ['Jodhpur Mandi', 'Sojati Gate Market', 'Ratanada Market'],
            'Visakhapatnam': ['Visakhapatnam Mandi', 'Gajuwaka Market', 'Dwarakanagar Market'],
            'Vijayawada': ['Vijayawada Mandi', 'Benz Circle Market', 'Governorpet Market'],
            'Patna': ['Patna Mandi', 'Gandhi Maidan Market', 'Boring Road Market'],
            'Gaya': ['Gaya Mandi', 'Kotwali Market', 'Maharajganj Market']
        };

        const cropData = {
            'cereals': ['Wheat', 'Rice', 'Maize', 'Barley', 'Millets'],
            'pulses': ['Chickpea', 'Pigeon Pea', 'Lentil', 'Green Gram', 'Black Gram'],
            'vegetables': ['Tomato', 'Potato', 'Onion', 'Cabbage', 'Cauliflower'],
            'fruits': ['Mango', 'Banana', 'Apple', 'Orange', 'Grapes'],
            'spices': ['Turmeric', 'Chili', 'Coriander', 'Cumin', 'Cardamom'],
            'commercial': ['Cotton', 'Sugarcane', 'Tobacco', 'Jute', 'Rubber']
        };

        const priceData = {
            'Wheat': { min: 1920, max: 2150, trend: 'up' },
            'Rice': { min: 1850, max: 2200, trend: 'stable' },
            'Tomato': { min: 800, max: 1500, trend: 'up' },
            'Potato': { min: 600, max: 900, trend: 'down' },
            'Onion': { min: 1200, max: 1800, trend: 'up' },
            'Chickpea': { min: 4500, max: 5200, trend: 'stable' },
            'Turmeric': { min: 6500, max: 8000, trend: 'up' },
            'Sugarcane': { min: 320, max: 350, trend: 'stable' },
            'Cotton': { min: 5500, max: 6000, trend: 'down' },
            'Mango': { min: 1800, max: 3500, trend: 'up' },
            'Banana': { min: 900, max: 1400, trend: 'stable' }
        };

        // DOM elements
        const stateSelect = document.getElementById('stateSelect');
        const districtSelect = document.getElementById('districtSelect');
        const marketSelect = document.getElementById('marketSelect');
        const cropTypeSelect = document.getElementById('cropTypeSelect');
        const cropSelect = document.getElementById('cropSelect');
        const checkPriceBtn = document.getElementById('checkPriceBtn');
        const priceTable = document.getElementById('priceTable');

        // Chart variable
        let priceChart;

        // Event listeners
        stateSelect.addEventListener('change', function() {
            const state = this.value;
            districtSelect.disabled = !state;
            
            if (state) {
                // Clear previous options
                districtSelect.innerHTML = '<option value="">Select District</option>';
                
                // Add new options
                stateDistricts[state].forEach(district => {
                    const option = document.createElement('option');
                    option.value = district.toLowerCase();
                    option.textContent = district;
                    districtSelect.appendChild(option);
                });
            }
        });

        districtSelect.addEventListener('change', function() {
            const district = this.value;
            marketSelect.disabled = !district;
            
            if (district) {
                // Clear previous options
                marketSelect.innerHTML = '<option value="">Select Market</option>';
                
                // Find markets for this district
                const markets = marketData[this.options[this.selectedIndex].text];
                if (markets) {
                    markets.forEach(market => {
                        const option = document.createElement('option');
                        option.value = market.toLowerCase();
                        option.textContent = market;
                        marketSelect.appendChild(option);
                    });
                }
            }
        });

        cropTypeSelect.addEventListener('change', function() {
            const cropType = this.value;
            cropSelect.disabled = !cropType;
            
            if (cropType) {
                // Clear previous options
                cropSelect.innerHTML = '<option value="">Select Crop</option>';
                
                // Add new options
                cropData[cropType].forEach(crop => {
                    const option = document.createElement('option');
                    option.value = crop.toLowerCase();
                    option.textContent = crop;
                    cropSelect.appendChild(option);
                });
            }
        });

        checkPriceBtn.addEventListener('click', function() {
            const crop = cropSelect.value;
            if (!crop) {
                alert('Please select a crop first');
                return;
            }
            
            // Display price information
            const cropName = cropSelect.options[cropSelect.selectedIndex].text;
            const priceInfo = priceData[cropName];
            
            if (priceInfo) {
                priceTable.innerHTML = `
                    <tr>
                        <td>${cropName}</td>
                        <td>₹${priceInfo.min}</td>
                        <td>₹${priceInfo.max}</td>
                        <td>
                            ${priceInfo.trend === 'up' ? 
                                '<i class="fas fa-arrow-up text-success"></i> Rising' : 
                                priceInfo.trend === 'down' ? 
                                '<i class="fas fa-arrow-down text-danger"></i> Falling' : 
                                '<i class="fas fa-minus text-secondary"></i> Stable'}
                        </td>
                    </tr>
                `;
                
                // Update chart
                updatePriceChart(cropName);
            } else {
                priceTable.innerHTML = `
                    <tr>
                        <td colspan="4" class="text-center">Price data not available for ${cropName}</td>
                    </tr>
                `;
            }
        });

        // Function to initialize chart
        function initChart() {
            const ctx = document.getElementById('priceChart').getContext('2d');
            priceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Market Price (₹/quintal)',
                        data: [],
                        borderColor: '#2e7d32',
                        backgroundColor: 'rgba(46, 125, 50, 0.1)',
                        tension: 0.3,
                        fill: true,
                        borderWidth: 2,
                        pointRadius: 3,
                        pointBackgroundColor: '#2e7d32'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Price Trend (Last 12 Months)',
                            font: {
                                size: 14
                            }
                        },
                        legend: {
                            labels: {
                                font: {
                                    size: 12
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: 'Price (₹/quintal)',
                                font: {
                                    size: 12
                                }
                            },
                            ticks: {
                                font: {
                                    size: 11
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
            
            // Initialize with sample data for Wheat
            updatePriceChart('Wheat');
        }

        // Function to update chart with sample data
        function updatePriceChart(cropName) {
            // Generate random price data based on crop type
            const basePrice = priceData[cropName] ? priceData[cropName].min : 1500;
            const variation = basePrice * 0.3; // 30% variation
            
            const newData = Array.from({length: 12}, (_, i) => {
                // Simulate seasonal variations
                const seasonFactor = 1 + 0.2 * Math.sin(i / 2);
                // Add random noise
                const randomFactor = 1 + (Math.random() - 0.5) * 0.2;
                return Math.round(basePrice * seasonFactor * randomFactor);
            });
            
            priceChart.data.datasets[0].label = `${cropName} Price (₹/quintal)`;
            priceChart.data.datasets[0].data = newData;
            priceChart.update();
        }

        // Initialize chart when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initChart();
        });
    </script>
</body>
</html>