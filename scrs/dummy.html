<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Crop Advisory System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2e7d32;
            --secondary: #7cb342;
            --accent: #ffa000;
            --light: #f1f8e9;
            --dark: #1b5e20;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .navbar {
            background-color: var(--primary);
        }
        
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1625246335525-68e5c51a5e6f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1800&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
        }
        
        .feature-card {
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s ease;
            height: 100%;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
        }
        
        .btn-primary:hover {
            background-color: var(--dark);
            border-color: var(--dark);
        }
        
        .language-selector {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .crop-card {
            border-left: 4px solid var(--secondary);
        }
        
        .weather-card {
            background: linear-gradient(135deg, #67b26f 0%, #4ca2cd 100%);
            color: white;
        }
        
        .footer {
            background-color: var(--dark);
            color: white;
            padding: 40px 0;
        }
        
        /* AI Chatbot Icon Styles */
        .ai-chatbot-icon {
            position: fixed;
            bottom: 80px;
            right: 20px;
            z-index: 1000;
            width: 60px;
            height: 60px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .ai-chatbot-icon:hover {
            transform: scale(1.1);
            background-color: var(--dark);
        }
        
        /* Fix for seedling icon */
        .seedling-icon {
            font-size: 1.5rem;
            color: white;
        }
        
        /* Loading animation */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Weather icons */
        .weather-icon {
            font-size: 1.5rem;
        }
        
        /* Market data styles */
        .market-up {
            color: #28a745;
        }
        
        .market-down {
            color: #dc3545;
        }
        
        .market-neutral {
            color: #6c757d;
        }
        
        /* Weather map styles */
        .weather-map-container {
            margin-top: 30px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .weather-map-container iframe {
            width: 100%;
            height: 450px;
            border: none;
        }
        
        .weather-map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-seedling seedling-icon me-2"></i>
                Smart Crop Advisory By Shashank P
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Crop Advice</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#weather-map-section">Weather</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Market Prices</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pest Detection</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Government Portal</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="register.html">Login/sign-up</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1 class="display-4 fw-bold mb-4">Empowering Farmers with Smart Technology</h1>
            <p class="lead mb-4">Get expert crop advice based on your soil, weather conditions, and market trends</p>
            <button class="btn btn-lg btn-success me-2" onclick="getLocation()">Get Local Advisory</button>
            <button class="btn btn-lg btn-outline-light">Learn More</button>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">How It Works</h2>
                <p class="lead text-muted">Our system provides comprehensive farming support</p>
            </div>
            
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card feature-card h-100">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="fas fa-cloud-sun"></i>
                            </div>
                            <h4>Weather Advisory</h4>
                            <p>Get accurate weather forecasts and alerts specific to your farm location</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="card feature-card h-100">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="fas fa-seedling"></i>
                            </div>
                            <h4>Crop Recommendations</h4>
                            <p>Receive personalized crop suggestions based on your soil type and conditions</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="card feature-card h-100">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="fas fa-bug"></i>
                            </div>
                            <h4>Pest Detection</h4>
                            <p>Upload images of affected crops to identify pests and diseases</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="card feature-card h-100">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="fas fa-rupee-sign"></i>
                            </div>
                            <h4>Market Prices</h4>
                            <p>Access real-time market prices for your produce</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="card feature-card h-100">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="fas fa-language"></i>
                            </div>
                            <h4>Multi-Language</h4>
                            <p>Available in 22 Indian languages with voice support</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="card feature-card h-100">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="fas fa-hand-holding-heart"></i>
                            </div>
                            <h4>Government Support</h4>
                            <p>Direct access to government schemes and advisory services</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Crop Advisory Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2 class="fw-bold mb-4">Personalized Crop Advisory</h2>
                    <div class="card crop-card mb-3">
                        <div class="card-body">
                            <h5><i class="fas fa-info-circle text-success me-2"></i> Current Recommendation</h5>
                            <p id="crop-recommendation">Detecting your location for personalized advice...</p>
                        </div>
                    </div>
                    <div class="card crop-card mb-3">
                        <div class="card-body">
                            <h5><i class="fas fa-flask text-success me-2"></i> Soil Health</h5>
                            <p id="soil-info">Location data needed for soil information</p>
                        </div>
                    </div>
                    <div class="card crop-card">
                        <div class="card-body">
                            <h5><i class="fas fa-tint text-success me-2"></i> Irrigation Advice</h5>
                            <p id="irrigation-info">Weather data needed for irrigation recommendations</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <img src="https://images.unsplash.com/photo-1605000797499-95a51c5269ae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Farmers in field" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </section>

    <!-- Weather & Market Section -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="card weather-card">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <h3 class="card-title"><i class="fas fa-cloud-sun-rain me-2"></i> Weather Forecast</h3>
                                <div id="location-display">
                                    <button class="btn btn-sm btn-light" onclick="getLocation()">
                                        <i class="fas fa-location-arrow"></i> Detect Location
                                    </button>
                                </div>
                            </div>
                            <div id="weather-container">
                                <div class="text-center py-4">
                                    <div class="loading-spinner"></div>
                                    <p class="mt-2">Loading weather data...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <h3 class="card-title"><i class="fas fa-chart-line me-2 text-success"></i> Market Prices</h3>
                                <small id="market-update-time" class="text-muted"></small>
                            </div>
                            <div id="market-container">
                                <div class="text-center py-4">
                                    <div class="loading-spinner"></div>
                                    <p class="mt-2">Loading market data...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Weather Map Section -->
    <section id="weather-map-section" class="py-5 bg-light">
        <div class="container">
            <div class="weather-map-header">
                <h2 class="fw-bold">India Weather Map</h2>
                <a href="https://weatherindia.org/" target="_blank" class="btn btn-primary">
                    <i class="fas fa-external-link-alt me-1"></i> View Full Weather Portal
                </a>
            </div>
            <p class="mb-4">Interactive weather map showing current conditions and forecasts across India</p>
            
            <div class="weather-map-container">
                <iframe src="https://weatherindia.org/" title="India Weather Map" allowfullscreen></iframe>
            </div>
            
            <div class="mt-3">
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i> 
                    For the best experience with the weather map, visit the <a href="https://weatherindia.org/" target="_blank">full Weather India portal</a>.
                </div>
            </div>
        </div>
    </section>

    <!-- AI Chatbot Icon -->
    <a href="ai.html" class="ai-chatbot-icon">
        <i class="fas fa-robot fa-2x"></i>
    </a>

    <!-- Language Selector -->
    <div class="language-selector">
        <div class="dropdown">
            <button class="btn btn-success dropdown-toggle" type="button" id="languageDropdown" data-bs-toggle="dropdown">
                <i class="fas fa-language me-1"></i> Language
            </button>
            <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                <li><a class="dropdown-item" href="#">English</a></li>
                <li><a class="dropdown-item" href="#">Hindi</a></li>
                <li><a class="dropdown-item" href="#">Bengali</a></li>
                <li><a class="dropdown-item" href="#">Telugu</a></li>
                <li><a class="dropdown-item" href="#">Marathi</a></li>
                <li><a class="dropdown-item" href="#">Tamil</a></li>
                <li><a class="dropdown-item" href="#">Urdu</a></li>
                <li><a class="dropdown-item" href="#">Gujarati</a></li>
                <li><a class="dropdown-item" href="#">Kannada</a></li>
                <li><a class="dropdown-item" href="#">Odia</a></li>
                <li><a class="dropdown-item" href="#">Punjabi</a></li>
                <li><a class="dropdown-item" href="#">Malayalam</a></li>
            </ul>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5>Smart Crop Advisory</h5>
                    <p>Empowering small and marginal farmers with data-driven agricultural advice and support.</p>
                </div>
                <div class="col-md-2 mb-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-white">Home</a></li>
                        <li><a href="#" class="text-white">Crop Advice</a></li>
                        <li><a href="#weather-map-section" class="text-white">Weather</a></li>
                        <li><a href="ai.html" class="text-white">AI-Chatbot</a></li>
                        <li><a href="#" class="text-white">Market Prices</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h5>Resources</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">Government Schemes</a></li>
                        <li><a href="#" class="text-white">Farming Techniques</a></li>
                        <li><a href="#" class="text-white">Expert Consultation</a></li>
                        <li><a href="#" class="text-white">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Contact Us</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-phone me-2"></i> Farmer Helpline: 1551</li>
                        <li><i class="fas fa-envelope me-2"></i> support@smartcrop.gov.in</li>
                        <li><i class="fas fa-map-marker-alt me-2"></i> Ministry of Agriculture, New Delhi</li>
                    </ul>
                </div>
            </div>
            <hr class="bg-light">
            <div class="text-center">
                <p>© 2023 Smart Crop Advisory System. Developed for the Government of India.</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // API Keys (In production, these should be secured on the backend)
        const OPENWEATHER_API_KEY = '4567d05cc3d6e817d2702d8d5a477dee'; // Get from https://openweathermap.org/api
        const AGRIWATCH_API_KEY = 'your_agriwatch_api_key_here'; // Get from https://agriwatch.com/api
        
        // Default location (New Delhi) as fallback
        let userLocation = {
            lat: 28.6139,
            lon: 77.2090,
            name: "New Delhi"
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Try to get user's location
            if (navigator.geolocation) {
                getLocation();
            } else {
                // Use default location if geolocation is not supported
                fetchWeatherData();
                fetchMarketData();
            }
        });
        
        // Get user's current location
        function getLocation() {
            document.getElementById('location-display').innerHTML = `
                <span class="text-light"><i class="fas fa-sync-alt fa-spin"></i> Detecting location...</span>
            `;
            
            navigator.geolocation.getCurrentPosition(
                position => {
                    userLocation.lat = position.coords.latitude;
                    userLocation.lon = position.coords.longitude;
                    
                    // Reverse geocoding to get location name
                    fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${userLocation.lat}&longitude=${userLocation.lon}&localityLanguage=en`)
                        .then(response => response.json())
                        .then(data => {
                            userLocation.name = data.city || data.locality || "Your Location";
                            document.getElementById('location-display').innerHTML = `
                                <span class="text-light"><i class="fas fa-map-marker-alt"></i> ${userLocation.name}</span>
                            `;
                            
                            // Update all data based on location
                            fetchWeatherData();
                            fetchMarketData();
                            updateCropRecommendation();
                        })
                        .catch(error => {
                            console.error('Error getting location name:', error);
                            userLocation.name = "Your Location";
                            document.getElementById('location-display').innerHTML = `
                                <span class="text-light"><i class="fas fa-map-marker-alt"></i> ${userLocation.name}</span>
                            `;
                            
                            fetchWeatherData();
                            fetchMarketData();
                            updateCropRecommendation();
                        });
                },
                error => {
                    console.error('Geolocation error:', error);
                    document.getElementById('location-display').innerHTML = `
                        <button class="btn btn-sm btn-light" onclick="getLocation()">
                            <i class="fas fa-location-arrow"></i> Detect Location
                        </button>
                    `;
                    alert('Unable to get your location. Using default location (New Delhi).');
                    
                    // Use default location
                    fetchWeatherData();
                    fetchMarketData();
                    updateCropRecommendation();
                }
            );
        }
        
        // Fetch weather data from OpenWeatherMap API
        function fetchWeatherData() {
            // Show loading state
            document.getElementById('weather-container').innerHTML = `
                <div class="text-center py-4">
                    <div class="loading-spinner"></div>
                    <p class="mt-2">Loading weather data...</p>
                </div>
            `;
            
            // In a real implementation, you would use the OpenWeatherMap API
            // For demonstration, we'll use a mock API response
            setTimeout(() => {
                // This would be the actual API call:
                /*
                fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${userLocation.lat}&lon=${userLocation.lon}&appid=${OPENWEATHER_API_KEY}&units=metric`)
                    .then(response => response.json())
                    .then(data => displayWeatherData(data))
                    .catch(error => {
                        console.error('Error fetching weather data:', error);
                        document.getElementById('weather-container').innerHTML = `
                            <div class="alert alert-warning">
                                Unable to load weather data. Please try again later.
                            </div>
                        `;
                    });
                */
                
                // Mock weather data for demonstration
                const mockWeatherData = {
                    list: [
                        {
                            dt: Date.now() / 1000,
                            main: { temp: 32, temp_min: 28, temp_max: 35 },
                            weather: [{ main: "Clear", icon: "01d" }]
                        },
                        {
                            dt: (Date.now() / 1000) + 86400,
                            main: { temp: 31, temp_min: 27, temp_max: 34 },
                            weather: [{ main: "Clouds", icon: "02d" }]
                        },
                        {
                            dt: (Date.now() / 1000) + 172800,
                            main: { temp: 29, temp_min: 26, temp_max: 31 },
                            weather: [{ main: "Rain", icon: "10d" }]
                        }
                    ]
                };
                
                displayWeatherData(mockWeatherData);
            }, 1500);
        }
        
        // Display weather data
        function displayWeatherData(data) {
            const forecasts = data.list;
            
            let weatherHTML = `
                <div class="d-flex justify-content-between mt-4">
            `;
            
            // Display today's weather
            const today = forecasts[0];
            weatherHTML += `
                <div class="text-center">
                    <p>Today</p>
                    <i class="fas fa-sun weather-icon fs-1"></i>
                    <p>${Math.round(today.main.temp_max)}°C / ${Math.round(today.main.temp_min)}°C</p>
                </div>
            `;
            
            // Display tomorrow's weather
            const tomorrow = forecasts[1];
            weatherHTML += `
                <div class="text-center">
                    <p>Tomorrow</p>
                    <i class="fas fa-cloud-sun weather-icon fs-1"></i>
                    <p>${Math.round(tomorrow.main.temp_max)}°C / ${Math.round(tomorrow.main.temp_min)}°C</p>
                </div>
            `;
            
            // Display next day's weather
            const nextDay = forecasts[2];
            weatherHTML += `
                <div class="text-center">
                    <p>Next Day</p>
                    <i class="fas fa-cloud-rain weather-icon fs-1"></i>
                    <p>${Math.round(nextDay.main.temp_max)}°C / ${Math.round(nextDay.main.temp_min)}°C</p>
                </div>
            `;
            
            weatherHTML += `</div>`;
            
            // Add weather advisory based on forecast
            if (nextDay.weather[0].main === "Rain") {
                weatherHTML += `
                    <div class="alert alert-warning mt-3">
                        <i class="fas fa-exclamation-triangle me-2"></i> Expected rainfall in 2 days. Plan your irrigation accordingly.
                    </div>
                `;
            } else if (today.main.temp_max > 35) {
                weatherHTML += `
                    <div class="alert alert-warning mt-3">
                        <i class="fas fa-temperature-high me-2"></i> High temperatures expected. Ensure adequate irrigation for crops.
                    </div>
                `;
            } else {
                weatherHTML += `
                    <div class="alert alert-info mt-3">
                        <i class="fas fa-info-circle me-2"></i> Favorable weather conditions for farming activities.
                    </div>
                `;
            }
            
            document.getElementById('weather-container').innerHTML = weatherHTML;
            updateIrrigationAdvice(forecasts);
        }
        
        // Fetch market data
        function fetchMarketData() {
            // Show loading state
            document.getElementById('market-container').innerHTML = `
                <div class="text-center py-4">
                    <div class="loading-spinner"></div>
                    <p class="mt-2">Loading market data...</p>
                </div>
            `;
            
            // In a real implementation, you would use the AGRIWATCH API or similar
            // For demonstration, we'll use a mock API response
            setTimeout(() => {
                // This would be the actual API call:
                /*
                fetch(`https://api.agriwatch.com/market/prices?key=${AGRIWATCH_API_KEY}&state=${userState}`)
                    .then(response => response.json())
                    .then(data => displayMarketData(data))
                    .catch(error => {
                        console.error('Error fetching market data:', error);
                        document.getElementById('market-container').innerHTML = `
                            <div class="alert alert-warning">
                                Unable to load market data. Please try again later.
                            </div>
                        `;
                    });
                */
                
                // Mock market data for demonstration
                const mockMarketData = [
                    { crop: "Rice", price: "2,100", trend: "up" },
                    { crop: "Wheat", price: "1,950", trend: "down" },
                    { crop: "Cotton", price: "6,300", trend: "up" },
                    { crop: "Sugarcane", price: "3,400", trend: "neutral" },
                    { crop: "Pulses", price: "5,500", trend: "up" }
                ];
                
                displayMarketData(mockMarketData);
            }, 1500);
        }
        
        // Display market data
        function displayMarketData(data) {
            let marketHTML = `
                <table class="table table-striped mt-4">
                    <thead>
                        <tr>
                            <th>Crop</th>
                            <th>Price (₹/q)</th>
                            <th>Trend</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            data.forEach(item => {
                let trendIcon, trendClass;
                
                if (item.trend === "up") {
                    trendIcon = "fa-arrow-up";
                    trendClass = "market-up";
                } else if (item.trend === "down") {
                    trend icon = "fa-arrow-down";
                    trendClass = "market-down";
                } else {
                    trendIcon = "fa-minus";
                    trendClass = "market-neutral";
                }
                
                marketHTML += `
                    <tr>
                        <td>${item.crop}</td>
                        <td>${item.price}</td>
                        <td class="${trendClass}"><i class="fas ${trendIcon}"></i></td>
                    </tr>
                `;
            });
            
            marketHTML += `
                    </tbody>
                </table>
            `;
            
            document.getElementById('market-container').innerHTML = marketHTML;
            
            // Update the last updated time
            const now = new Date();
            document.getElementById('market-update-time').textContent = `Updated: ${now.toLocaleTimeString()}`;
        }
        
        // Update crop recommendation based on location and season
        function updateCropRecommendation() {
            const month = new Date().getMonth();
            let recommendedCrop, soilInfo;
            
            // Simple recommendation logic based on season
            if (month >= 6 && month <= 9) {
                // Kharif season (monsoon)
                recommendedCrop = "Rice (Oryza sativa)";
                soilInfo = "Ideal for rice cultivation with proper water management.";
            } else if (month >= 10 && month <= 12) {
                // Rabi season (winter)
                recommendedCrop = "Wheat (Triticum aestivum)";
                soilInfo = "Well-drained loamy soil with good organic content is ideal for wheat.";
            } else {
                // Summer season
                recommendedCrop = "Cotton (Gossypium spp.)";
                soilInfo = "Black cotton soil with good drainage is preferred.";
            }
            
            document.getElementById('crop-recommendation').innerHTML = `
                Based on your location and current season, we recommend <strong>${recommendedCrop}</strong>.
            `;
            
            document.getElementById('soil-info').textContent = soilInfo;
        }
        
        // Update irrigation advice based on weather
        function updateIrrigationAdvice(forecasts) {
            const today = forecasts[0];
            let irrigationAdvice;
            
            if (today.weather[0].main === "Rain") {
                irrigationAdvice = "Rain expected today. You can reduce or skip irrigation to conserve water.";
            } else if (today.main.temp_max > 33) {
                irrigationAdvice = "High temperatures today. Ensure adequate irrigation, preferably in the early morning or late evening.";
            } else {
                irrigationAdvice = "Normal irrigation recommended. Maintain regular watering schedule.";
            }
            
            // Check if rain is expected in the next 2 days
            if (forecasts[1].weather[0].main === "Rain" || forecasts[2].weather[0].main === "Rain") {
                irrigationAdvice += " Rainfall expected in the coming days. Plan irrigation accordingly.";
            }
            
            document.getElementById('irrigation-info').textContent = irrigationAdvice;
        }
        
        // Simple language selection functionality
        document.querySelectorAll('.dropdown-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const langName = this.textContent;
                
                document.querySelector('.dropdown-toggle').innerHTML = `<i class="fas fa-language me-1"></i> ${langName}`;
                
                // Show language change notification
                showNotification(`Language changed to ${langName}`);
            });
        });
        
        // Function to show notification
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'position-fixed top-0 end-0 p-3';
            notification.style.zIndex = '11';
            
            notification.innerHTML = `
                <div class="toast show" role="alert">
                    <div class="toast-header">
                        <i class="fas fa-language text-primary me-2"></i>
                        <strong class="me-auto">Language Changed</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
                    </div>
                    <div class="toast-body">
                        ${message}
                    </div>
                </div>
            `;
            
            // Add to page
            document.body.appendChild(notification);
            
            // Auto remove after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        // Initialize tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        });
    </script>
</body>
</html>